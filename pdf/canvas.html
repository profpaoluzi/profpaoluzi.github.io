<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello!</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css" />

    <!-- import the webpage's javascript file -->
    <!-- <script src="/script.js" defer></script> -->
    <script>
    /* If you're feeling fancy you can add interactivity 
    to your site with Javascript */

// prints "hi" in the browser's dev tools console
console.log("hi");

let canvasNumber = 0;


let size = 12;
function cambia() {
  let canvas = document.getElementById("canvas");
  let ctx = canvas.getContext("2d");
  let w = ctx.canvas.width;
  let h = ctx.canvas.height;
  let sizep = document.getElementById("size");
  sizep.innerHTML = `${size}`;
  ctx.fillStyle = "white";
  ctx.fillRect(0, 0, w, h);
  canvasNumber ? draw() : draw2();
  canvasNumber = (canvasNumber + 1) % 2;
}

function draw3() {
  let canvas = document.getElementById("canvas");
  let ctx = canvas.getContext("2d");
  let w = ctx.canvas.width;
  let h = ctx.canvas.height;
  console.log(w);
  //  let size = 15;
  //  ctx.fillRect(10, 10, 200, 200);
  for (let i = 0; i < size; i++) {
    for (let j = 0; j < size; j++) {
      ctx.fillStyle = `rgb(${i * 20},${j * 30},90)`;
      //ctx.fillStyle='red'
      ctx.fillRect(
        (i * w) / size - Math.random() * 10,
        (j * h) / size - Math.random() * 10,
        w / size - Math.floor(Math.random() * 10),
        h / size - Math.floor(Math.random() * 10)
      );

      // ctx.beginPath();
      //ctx.moveTo(i*w/size,j*h/size);
      //ctx.arc(i*w/size+w/(2*size),j*h/size+h/(2*size),20,0,2*Math.PI*j/(i+1),1)
      //       ctx.arc(i*w/size,j*h/size,20,0,3,1)
      //   ctx.stroke();
      // ctx.closePath();
      /*       ctx.fillStyle = `rgb(${i * 40},${j * 20},60)`;
      ctx.beginPath();
      //ctx.moveTo((i * w) / size, (j * h) / size);
      ctx.arc(
        (i * w) / size + w / (2 * size),
        (j * h) / size + h / (2 * size),
        10,
        0,
        (2 * Math.PI * j) / (i + 1),
        1
      );
      //       ctx.arc(i*w/size,j*h/size,20,0,3,1)
         ctx.fill();
      ctx.closePath();
      */
    }
  }
}

function draw4() {
  let canvas = document.getElementById("canvas");
  let ctx = canvas.getContext("2d");
  let w = ctx.canvas.width;
  let h = ctx.canvas.height;
  /* console.log(w);*/
  //  let size = 2;
  //  ctx.fillRect(10, 10, 200, 200);
  for (let i = 0; i < size; i++) {
    for (let j = 0; j < size; j++) {
      ctx.strokeStyle = `rgb(${i * 20},${j * 30},8
0)`;
      ctx.strokeRect((i * w) / size, (j * h) / size, w / size, h / size);
      ctx.beginPath();
      ctx.moveTo(
        (i * w) / size + w / (2 * size),
        (j * h) / size + h / (2 * size)
      );
      //  ctx.lineTo(200,200);
      for (let k = 0; k < 10; k++) {
        ctx.lineTo(
          (i * w) / size +
            w / (2 * size) +
            ((Math.random() - 0.5) * w * 1.3) / (size * 2),
          (j * h) / size +
            h / (2 * size) +
            ((Math.random() - 0.5) * h * 1.3) / (size * 2)
        );
        console.log("*");
      }
      ctx.stroke();
      ctx.closePath();
      console.log("linea", i, j);
    }
  }
}
let counter=0
function draw2() {
  counter++
  let canvas = document.getElementById("canvas");
  let ctx = canvas.getContext("2d");
  let w = ctx.canvas.width;
  let h = ctx.canvas.height;
  /* console.log(w);*/
  //  let size = 2;
  //  ctx.fillRect(10, 10, 200, 200);
  ctx.clearRect(0,0,w,h)
  for (let i = 0; i < size; i++) {
    for (let j = 0; j < size; j++) {
      ctx.strokeStyle = `rgb(${i * 20},${j * 30},8
0)`;
      ctx.save()
      ctx.fillStyle= `rgb(${i * 30},${j * 20},80)`;
      ctx.translate(i*w/size,j*h/size)
      ctx.translate(w/(size*2),h/(2*size))
     // ctx.rotate(Math.PI*4/360*i)
      ctx.rotate(Math.PI*2/360*counter)
      ctx.fillRect(-21,-21,42,42)
      ctx.fillStyle= `rgb(${i * 20},${j * 30},80)`;
   //   ctx.rotate(-Math.PI*4/360*j)
  //    ctx.rotate(-Math.PI*4/360*j)

     ctx.rotate(-Math.PI*2/360*counter)
     ctx.rotate(-Math.PI*2/360*counter)

      ctx.fillRect(-10,-10,20,20)
      ctx.restore()
   //  ctx.strokeRect((i * w) / size, (j * h) / size, w / size, h / size);
     // ctx.beginPath();
     /* ctx.moveTo(
        (i * w) / size + w / (2 * size),
        (j * h) / size + h / (2 * size)
      );
      //  ctx.lineTo(200,200);
      for (let k = 0; k < 10; k++) {
        ctx.lineTo(
          (i * w) / size +
            w / (2 * size) +
            ((Math.random() - 0.5) * w * 1.3) / (size * 2),
          (j * h) / size +
            h / (2 * size) +
            ((Math.random() - 0.5) * h * 1.3) / (size * 2)
        );
        console.log("*");
      }
      ctx.stroke();
      ctx.closePath();
      console.log("linea", i, j);
    */
    }
  }
}
setInterval( draw2, 20);


    </script>
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    
    <style>
    /* CSS files add styling rules to your content */

body {
  font-family: Garamond, "Times New Roman", arial, sans-serif;
  margin: 2em;
}

h1 {
  font-style: italic;
  color: #373fff;
}
canvas { 
 border: 1px solid black; 
}

</style>
  </head>
  <body onload="draw2()">
    <h1>canvas experiments!</h1>

    <p>
      Piccoli esperimenti...
      Please press the <button onclick="cambia()">button</button>
    </p>
      </button>
  <button onclick='size++;cambia()'>+</button>
  <button onclick='size--;cambia()'>-</button>
    
  </button>
    </p>
<p id='size'>
  2</p>
</p>
    <canvas id="canvas" height="500" width="500">This is your canvas</canvas>

    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="https://button.glitch.me/button.js"></script>
    for educational purposes i removed the button. will put back -->
  </body>
</html>


